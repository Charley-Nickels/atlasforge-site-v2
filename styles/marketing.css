@import url('./main.css');

  .mf-header {
  position: sticky;
  top: 0;
  z-index: 20;
  background: linear-gradient(
      180deg,
      color-mix(in srgb, var(--color-surface-0) 96%, transparent),
      color-mix(in srgb, var(--color-surface-0) 90%, transparent)
    );
  backdrop-filter: blur(8px);
    border-bottom: var(--border-regular) solid var(--color-border-strong);
  }

.mf-header-inner {
  width: min(var(--layout-main, var(--layout-max-width-main, var(--layout-max-width))), 92vw);
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-12) 0;
  gap: var(--space-16);
  position: relative;
}

.mf-logo {
  display: inline-flex;
  align-items: center;
  gap: var(--space-12);
  color: var(--color-text-main);
  font-weight: 700;
  letter-spacing: 0.02em;
}

  .mf-logo-mark img {
  width: calc(var(--space-48) + var(--space-4));
  height: calc(var(--space-48) + var(--space-4));
  border-radius: var(--radius-md);
    box-shadow: var(--shadow-glow-soft);
  background: color-mix(in srgb, var(--color-text-inverse) 8%, transparent);
}

.mf-nav-group {
  display: inline-flex;
  align-items: center;
  gap: var(--space-16);
  margin-left: auto;
}

.mf-nav {
  display: inline-flex;
  align-items: center;
  gap: var(--space-12);
}

  .mf-nav--secondary {
    border-left: var(--border-thin) solid var(--overlay-weak);
    padding-left: var(--space-12);
    opacity: 1;
  }

  .mf-nav a {
  padding: var(--space-8) var(--space-12);
  border-radius: var(--radius-sm);
  color: var(--color-text-main);
  font-size: var(--font-size-body);
  transition: background 120ms ease, color 120ms ease, transform 120ms ease, border-color 120ms ease;
    border: var(--border-regular) solid transparent;
    font-weight: 600;
  }

.mf-nav a:hover {
  color: var(--color-text-main);
  background: var(--state-hover-surface);
  border-color: var(--state-hover-border);
}

.mf-nav a:active {
  transform: translateY(var(--space-2));
  background: var(--state-pressed-surface);
}

  .mf-nav a.is-active {
    color: var(--color-text-main);
    background: var(--state-hover-surface);
    border-color: var(--state-hover-border);
    box-shadow: var(--shadow-ring-accent);
  }

  .mf-nav a:focus-visible {
    outline: var(--border-thick) solid var(--state-focus-outline);
    outline-offset: 3px;
    color: var(--color-text-main);
  }

.mf-hero-cta-note {
  color: var(--color-text-muted);
  font-size: var(--text-sm);
  line-height: var(--line-height-normal);
  margin-top: var(--space-12);
}

.mf-storyboard {
  display: grid;
  gap: var(--space-16);
}

  .mf-storyboard-item {
    transition: transform 160ms ease, border-color 160ms ease, box-shadow 160ms ease;
  }

.mf-storyboard-item.is-active {
  border-color: var(--state-hover-border);
  transform: translateY(calc(-1 * (var(--space-4) + var(--space-2))));
  box-shadow: var(--shadow-soft);
}

.mf-parallax {
  position: relative;
  overflow: hidden;
}

.mf-parallax .mf-layer-back {
  position: absolute;
  inset: -20%;
  background: radial-gradient(
    circle at 20% 30%,
    color-mix(in srgb, var(--overlay-mid) 80%, transparent),
    transparent 60%
  );
  transform: translateZ(0);
}

.mf-parallax .mf-layer-front {
  position: relative;
  z-index: 1;
}

@media (max-width: var(--bp-tablet)) {
  .mf-parallax .mf-layer-back {
    display: none;
  }
}

@media (prefers-reduced-motion: reduce) {
  .mf-parallax .mf-layer-back {
    display: none;
  }
}

.mf-stack-diagram .mf-layer-list {
  display: grid;
  gap: var(--space-12);
}

.mf-stack-diagram .mf-layer {
  border-style: dashed;
  border-color: var(--color-border-strong);
  background: linear-gradient(
      170deg,
      color-mix(in srgb, var(--overlay-mid) 70%, transparent),
      color-mix(in srgb, var(--overlay-faint) 90%, transparent)
    ),
    var(--color-surface-200);
}

.mf-gallery-grid,
.mf-case-grid,
.mf-template-grid,
.mf-mode-grid,
.mf-showcase-grid,
.mf-map-grid,
.mf-release-grid {
  display: grid;
  gap: var(--space-16);
  grid-template-columns: repeat(
    auto-fit,
    minmax(calc(var(--space-72) * 3 + var(--space-8)), 1fr)
  );
}

.mf-card--inline {
  display: flex;
  align-items: flex-start;
  gap: var(--space-12);
}

.mf-constraint-list {
  display: grid;
  gap: var(--space-12);
}

.mf-flow-panel {
  display: grid;
  gap: var(--space-16);
  grid-template-columns: repeat(
    auto-fit,
    minmax(calc(var(--space-72) * 3 + var(--space-40)), 1fr)
  );
}

.mf-flow-panel .mf-flow-track {
  border-style: dashed;
  border-color: var(--overlay-mid);
  min-height: calc(var(--space-72) + var(--space-64) + var(--space-4));
  background: var(--state-hover-surface);
}

.mf-timeline {
  display: flex;
  gap: var(--space-12);
  flex-wrap: wrap;
}

.mf-timeline .mf-step {
  padding: var(--space-8) var(--space-12);
  border-radius: var(--radius-sm);
  background: var(--state-hover-surface);
  border: var(--border-regular) solid var(--color-border-subtle);
  font-size: var(--text-sm);
}

.mf-map-panel {
  position: relative;
  min-height: calc((var(--space-72) + var(--space-64) + var(--space-4)) * 2);
}

.mf-map-layer {
  position: absolute;
  inset: var(--space-12);
  border-style: dashed;
  border-color: var(--color-border-subtle);
  background: linear-gradient(
    185deg,
    color-mix(in srgb, var(--overlay-mid) 65%, transparent),
    color-mix(in srgb, var(--overlay-faint) 90%, transparent)
  );
}

.mf-map-layer strong {
  display: block;
  margin-bottom: var(--space-8);
}

.mf-footer-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  gap: var(--space-8);
}

.mf-footer-note {
  margin-top: var(--space-8);
  color: var(--color-text-muted);
  font-size: var(--font-size-small);
}

.mf-hero-badge {
  display: inline-flex;
  align-items: center;
  gap: var(--space-8);
  padding: var(--space-8) var(--space-12);
  border-radius: var(--radius-md);
  background: var(--state-hover-surface);
  border: var(--border-regular) solid var(--color-border-strong);
  color: var(--color-text-main);
    backdrop-filter: blur(4px);
    box-shadow: var(--shadow-glow-soft);
    font-weight: 700;
  }

.mf-hero-badge-logo {
  height: calc(var(--space-32) + var(--space-4) + var(--space-2));
  width: auto;
  display: block;
  filter: var(--shadow-glow-filter-soft);
}

.mf-card--media figure,
.mf-card--media img {
  width: 100%;
  border-radius: var(--radius-sm);
  background: var(--overlay-weak);
  border: var(--border-regular) solid var(--overlay-weak);
}

.mf-diagram-frame svg {
  width: 100%;
  height: auto;
}

@media (max-width: var(--bp-tablet)) {
  .mf-stack-diagram .mf-grid,
  .mf-gallery-grid,
  .mf-case-grid,
  .mf-template-grid,
  .mf-mode-grid,
  .mf-showcase-grid,
  .mf-flow-panel,
  .mf-map-grid,
  .mf-release-grid {
    grid-template-columns: 1fr;
  }

  .mf-hero {
    padding: var(--space-40) 0;
  }
}

/* Home page rebuild */
.home-shell .mf-section {
  background: linear-gradient(180deg, var(--color-surface-0), var(--color-surface-100));
}

.home-hero {
  padding-top: calc(var(--section-padding-y) + var(--space-8));
  padding-bottom: calc(var(--section-padding-y) + var(--space-8));
}

.home-hero__grid {
  display: grid;
  gap: var(--space-24);
  grid-template-columns: repeat(auto-fit, minmax(calc(var(--space-96) + var(--space-48)), 1fr));
  align-items: center;
}

.home-hero__copy h1 {
  max-width: 36ch;
}

.home-hero__lede {
  color: var(--color-text-main);
  font-size: var(--font-size-body);
}

.home-hero__governance {
  display: flex;
  gap: var(--space-8);
  margin-top: var(--space-16);
  flex-wrap: wrap;
}

.home-hero__governance .mf-chip {
  font-weight: 600;
}

.home-hero__visual {
  display: grid;
  gap: var(--space-12);
}

.home-hero__visual h2 {
  margin: 0;
}

.home-hero__visual-note {
  color: var(--color-text-muted);
  margin: 0;
}

.home-stack__grid,
.home-products__grid,
.home-experiences__grid {
  display: grid;
  gap: var(--space-16);
}

.home-stack__grid {
  grid-template-columns: repeat(auto-fit, minmax(calc(var(--space-96)), 1fr));
}

.home-products__grid {
  grid-template-columns: repeat(auto-fit, minmax(calc(var(--space-96) + var(--space-24)), 1fr));
}

.home-experiences__grid {
  grid-template-columns: repeat(auto-fit, minmax(calc(var(--space-96) + var(--space-12)), 1fr));
}

.home-stack__card {
  position: relative;
  overflow: hidden;
}

.home-stack__card h3,
.home-product h3,
.home-experience h3 {
  margin: 0 0 var(--space-8);
}

.home-product__eyebrow,
.home-experience__meta {
  font-size: var(--text-xs);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--color-text-muted);
  margin-bottom: var(--space-8);
  display: inline-flex;
  align-items: center;
  gap: var(--space-4);
}

.home-product .mf-button,
.home-experience .mf-button {
  margin-top: auto;
  align-self: flex-start;
}

.home-experience--oia {
  background: linear-gradient(150deg, color-mix(in srgb, var(--color-brand-oia) 18%, transparent), transparent 60%),
    var(--color-surface-200);
}

.home-experience--skb {
  background: linear-gradient(150deg, color-mix(in srgb, var(--color-brand-skb) 18%, transparent), transparent 60%),
    var(--color-surface-200);
}

.home-experience--media {
  background: linear-gradient(150deg, color-mix(in srgb, var(--color-brand-media) 18%, transparent), transparent 60%),
    var(--color-surface-200);
}

.home-governance__panel {
  display: grid;
  gap: var(--space-16);
  background: linear-gradient(180deg, var(--color-surface-100), var(--color-surface-200));
}

.home-governance__grid {
  display: grid;
  gap: var(--space-16);
  grid-template-columns: repeat(auto-fit, minmax(calc(var(--space-88)), 1fr));
  align-items: start;
}

.home-governance__badge {
  display: inline-flex;
  align-items: center;
  padding: var(--space-6) var(--space-12);
  border-radius: var(--radius-pill);
  background: var(--state-hover-surface);
  color: var(--color-text-main);
  border: var(--border-regular) solid var(--state-hover-border);
  font-weight: 700;
  box-shadow: var(--shadow-soft);
  margin-bottom: var(--space-12);
}

.home-governance__list {
  display: grid;
  gap: var(--space-12);
}

.home-governance__item strong {
  display: block;
  margin-bottom: var(--space-4);
}

.home-governance__cta {
  display: flex;
  gap: var(--space-12);
  flex-wrap: wrap;
  justify-content: flex-start;
}

.home-cta__inner {
  align-items: center;
  text-align: center;
  gap: var(--space-20);
}

.home-cta__header h2 {
  margin: 0;
}

.home-cta__actions {
  display: flex;
  gap: var(--space-12);
  justify-content: center;
  flex-wrap: wrap;
}

@media (max-width: var(--bp-tablet)) {
  .home-hero__grid {
    grid-template-columns: 1fr;
  }

  .home-hero__visual {
    order: -1;
  }
}
